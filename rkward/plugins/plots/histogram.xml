<!DOCTYPE rkplugin>
<document>
	<code file="histogram.php" />
	<logic>
		<connect client="plotoptions.xvar" governor="x.available"/>
		<set id="plotoptions.allow_log" to="false"/>
		<set id="plotoptions.allow_type" to="false"/>
		
		<connect client="histogram_opt.varname" governor="x.available" />
		<set id="histogram_opt.allow_freq" to="true" />
		<set id="histogram_opt.allow_barlabels" to="true" />
		<set id="histogram_opt.allow_addtoplot" to="false" />
		
		<convert id="densityscaled" mode="equals" sources="histogram_opt.freq.state" standard="0" />
		<connect client="densityoptions.enabled" governor="densityscaled" />
	</logic>
	<dialog label="Histogram" >
		<tabbook>
			<tab label="Variable(s)" >
				<row>
					<varselector id="vars" />
					<column>
						<varslot multi="false" type="numeric" id="x" source="vars" label="variable(s):" required="true" />
						<stretch/>
						<preview id="preview"/>
						<embed id="plotoptions" component="rkward::plot_options" as_button="true" label="Generic Plot Options" />
					</column>
				</row>
			</tab>
			<tab label="Histogram Options" >
				<embed id="histogram_opt" component="rkward::histogram_options" as_button="false" />
			</tab>
			<tab label="Density" id="densityoptions">
				<row>
					<column>
						<checkbox value_unchecked="0" value="1" checked="false" id="density" label="Plot Density curve" />
						<embed id="col_density" component="rkward::color_chooser" label="Color" />
						<dropdown id="bw" label="Bandwidth">
							<option value="nrd0" label="nrd0"/>
							<option value="nrd" label="nrd"/>
							<option value="ucv" label="ucv"/>
							<option value="bcv" label="bcv"/>
							<option value="SJ-ste" label="SJ-ste"/>
							<option value="SJ-dpi" label="SJ-dpi"/>
						</dropdown>
						<spinbox type="real" id="adjust" label="Adjust Bandwidth" initial="1"/>
					</column>
					<column>
						<radio id="narm" label="Remove Missing Values">
							<option value="na.rm = TRUE" label="TRUE"/>
							<option value="na.rm = FALSE" label="FALSE"/>
						</radio>
						<spinbox id="n" initial="512" label="number of equally spaced points at which the density is to be estimated" />
						<stretch/>
					</column>
				</row>
				<stretch/>
			</tab>
		</tabbook>
	</dialog>
</document>