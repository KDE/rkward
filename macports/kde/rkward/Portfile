# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0

fetch.type          svn
svn.url             http://rkward.svn.sourceforge.net/svnroot/rkward/trunk
worksrcdir          ${workpath}/trunk/rkward

name                rkward-devel
version             0.5.7+0.5.8-svn
categories          kde kde4 math science
maintainers         hhu.de:meik.michalke
license             GPL-2
platforms           darwin

description         KDE frontend to the R statistics language

long_description    RKWard aims to become an easy to use, transparent frontend to R, a powerful system \
                    for statistical computation and graphics. Besides a convenient GUI for the most important \
                    statistical functions, future versions will also provide seamless integration with an office-suite.

homepage            http://rkward.sourceforge.net

master_sites        https://sourceforge.net/projects/rkward/files/Current_Stable_Releases

depends_lib         port:kde4-baseapps \
                    port:kate \
                    port:R

if {${configure.compiler} == "clang"} {
        configure.compiler llvm-gcc-4.2
}

pre-configure {
        system "mkdir ${worksrcdir}/build"
}

configure.dir       ${worksrcdir}/build
configure.pre_args-delete --prefix=${prefix}
configure.pre_args-append -DCMAKE_INSTALL_PREFIX=${prefix}
configure.args-append \
        -DNO_R_XML=1 \
        -DBUNDLE_INSTALL_DIR=${applications_dir}
configure.cmd       cmake ..

build.dir           ${worksrcdir}/build
